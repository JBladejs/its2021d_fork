<!DOCTYPE html>
<html ng-app="its2021d">
    <head>
        <meta charset="utf-8"/>
        <title>its2021d</title>

        <link rel="stylesheet" href="node_modules/bootstrap3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.css">
        <link rel="stylesheet" href="css/index.css">

        <script src="node_modules/jquery/dist/jquery.min.js"></script>
        <script src="node_modules/bootstrap3/dist/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class="container" ng-controller="Ctrl as ctrl">

            <table class="table table-hover">
                <tr>
                    <th>Imię</th><th>Nazwisko</th><th>e-mail</th><th>Akcja</th>
                </tr>
                <tr ng-repeat="person in ctrl.persons" ng-mouseover="ctrl.selected = $index" ng-mouseleave="ctrl.selected = -1">
                    <td>
                        <span ng-bind="person.firstName" ng-if="ctrl.editedPerson.index != $index"></span>
                        <input class="form-control" ng-model="ctrl.editedPerson.firstName" ng-if="ctrl.editedPerson.index == $index"/>
                    </td>
                    <td>
                        <span ng-bind="person.lastName" ng-if="ctrl.editedPerson.index != $index"></span>
                        <input class="form-control" ng-model="ctrl.editedPerson.lastName" ng-if="ctrl.editedPerson.index == $index"/>
                    </td>
                    <td>
                        <span ng-bind="person.email" ng-if="ctrl.editedPerson.index != $index"></span>
                        <input class="form-control" ng-model="ctrl.editedPerson.email" ng-if="ctrl.editedPerson.index == $index"/>
                    </td>
                    <td nowrap>
                        <button class="btn btn-sm btn-default fa fa-edit" ng-click="ctrl.wybierz($index)" ng-if="ctrl.selected == $index && ctrl.editedPerson.index != $index"></button>
                        <button class="btn btn-sm btn-default fa fa-check" ng-click="ctrl.zapisz()" ng-if="ctrl.editedPerson.index == $index" ng-disabled="!ctrl.editedPerson.firstName || !ctrl.editedPerson.lastName"></button>
                        <button class="btn btn-sm btn-default fa fa-times" ng-click="ctrl.editedPerson = -1" ng-if="ctrl.editedPerson.index == $index"></button>
                        <button class="btn btn-sm btn-default fa fa-trash" ng-click="ctrl.usun($index)" ng-if="ctrl.editedPerson.index == $index"></button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="form-control" ng-model="ctrl.newPerson.firstName" placeholder="imię"/>
                    </td>
                    <td>
                        <input type="text" class="form-control" ng-model="ctrl.newPerson.lastName" placeholder="nazwisko"/>
                    </td>
                    <td>
                        <input type="text" class="form-control" ng-model="ctrl.newPerson.email" placeholder="e-mail"/>
                    </td>
                    <td nowrap>
                        <button class="btn btn-sm btn-primary fa fa-plus" ng-click="ctrl.wyslij()" ng-disabled="!ctrl.newPerson.firstName || !ctrl.newPerson.lastName"></button>
                        <button class="btn btn-sm btn-danger fa fa-trash" ng-click="ctrl.zeruj()"></button>
                    </td>
                </tr>
            </table>

        </div>
        <script src="node_modules/angular/angular.min.js"></script>
        <script src="node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>

        <script src="js/main.js"></script>
    </body>
</html>